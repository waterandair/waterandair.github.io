<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>MySQL 中的常用工具 | Waterandair&#39;s Blog</title>
  <meta name="keywords" content=" 后端开发 , MySQL ">
  <meta name="description" content="MySQL 中的常用工具 | Waterandair&#39;s Blog">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta property="og:type" content="website">
<meta property="og:title" content="tags">
<meta property="og:url" content="https://waterandair.github.io/tags/index.html">
<meta property="og:site_name" content="Waterandair&#39;s Blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2019-07-17T18:58:18.000Z">
<meta property="article:modified_time" content="2019-12-28T06:03:51.541Z">
<meta property="article:author" content="Waterandair">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.0.1" rel="stylesheet">

<link href="/css/hl_theme/darcula.css?v=1.0.1" rel="stylesheet">

<link href="//cdn.bootcss.com/animate.css/3.5.2/animate.min.css" rel="stylesheet">
<link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="/js/jquery.autocomplete.min.js?v=1.0.1" ></script>

<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>



<script src="/js/iconfont.js?v=1.0.1" ></script>

<meta name="generator" content="Hexo 4.2.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="false">
  <input class="theme_blog_path" value="">
</div>

<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="/img/avatar.jpg" />
</a>
<div class="author">
    <span>Waterandair</span>
</div>

<div class="icon">
    
        
        <a title="rss" href="/atom.xml" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-rss"></use>
                </svg>
            
        </a>
        
    
        
        <a title="github" href="https://github.com/waterandair" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-github"></use>
                </svg>
            
        </a>
        
    
        
        <a title="email" href="mailto:156577812@qq.com" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-email"></use>
                </svg>
            
        </a>
        
    
</div>



<a class="more-menus">更多菜单</a>


<ul>
    <li><div class="all active">全部文章<small>(74)</small></div></li>
    
        
            
            <li><div data-rel="算法与数据结构"><i class="fold iconfont icon-right"></i>算法与数据结构<small>(1)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="基础">基础<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
            <li><div data-rel="后端开发"><i class="fold iconfont icon-right"></i>后端开发<small>(33)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="Redis">Redis<small>(6)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="Ansible">Ansible<small>(2)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="Docker">Docker<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="Linux">Linux<small>(4)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="MySQL">MySQL<small>(16)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="RPC">RPC<small>(4)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
            <li><div data-rel="大数据"><i class="fold iconfont icon-right"></i>大数据<small>(29)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="Hadoop">Hadoop<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="CDH">CDH<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="Hive">Hive<small>(2)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="基础">基础<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="Kafka">Kafka<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="数据分析">数据分析<small>(2)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="Spark">Spark<small>(19)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="Zookeeper">Zookeeper<small>(2)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
            <li><div data-rel="Go"><i class="fold iconfont icon-right"></i>Go<small>(1)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="Go 语言注意点">Go 语言注意点<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
            <li><div data-rel="环境搭建">环境搭建<small>(5)</small></div>
                
            </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
            <li><div data-rel="机器学习"><i class="fold iconfont icon-right"></i>机器学习<small>(3)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="算法">算法<small>(2)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="案例">案例<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
            <li><div data-rel="Interesting"><i class="fold iconfont icon-right"></i>Interesting<small>(1)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="Music">Music<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
            <li><div data-rel="Python">Python<small>(1)</small></div>
                
            </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
    
    
    
    <a class="dynamic-menu " target="_blank"  href="https://github.com/waterandair">github</a>
    
    </div>
    <div><a class="about  site_url"  href="/about">关于</a></div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="74">
<input type="hidden" id="yelog_site_word_count" value="137.6k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="back-title-list"></i>
    </div>
    <div class="friends-content">
        <ul>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <form onkeydown="if(event.keyCode==13){return false;}">
        <input class="search" type="text" placeholder="Search..." autocomplete="off"id="local-search-input" >
        <i class="cross"></i>
        <span>
            <label for="tagswitch">Tags:</label>
            <input id="tagswitch" type="checkbox" style="display: none" />
            <i id="tagsWitchIcon"></i>
        </span>
    </form>
    <div class="tags-list">
    
    <li class="article-tag-list-item">
        <a class="color1">时间复杂度</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">大O算法</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">Ansible</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">大数据</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Redis</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Nosql</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">Docker</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">Go</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">后端开发</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Linux</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">Hadoop</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">Hive</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">环境搭建</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">Java</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Kafka</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">消息队列</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">Zookeeper</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">机器学习</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">回归</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">MySQL</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">音乐</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Numpy</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">Pandas</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">Python</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Spark</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">开发</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">RPC</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">性能调优</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">原理</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">Spark 原理</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">工具</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">分布式协作框架</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Linux 权限问题</a>
    </li>
    
    <div class="clearfix"></div>
</div>

    
    <nav id="title-list-nav">
        
        <a id="top" class="后端开发 Ansible "
           href="/2017-09-30-ansible-base-use%20copy.html"
           data-tag="Ansible"
           data-author="" >
            <span class="post-title" title="ansible 一些基本使用方法的记录">ansible 一些基本使用方法的记录</span>
            <span class="post-date" title="2017-09-30 11:20:47">2017/09/30</span>
        </a>
        
        <a id="top" class="大数据 基础 "
           href="/2017-10-06-big-data-collect.html"
           data-tag="大数据"
           data-author="" >
            <span class="post-title" title="大数据的数据采集流程">大数据的数据采集流程</span>
            <span class="post-date" title="2017-10-06 21:49:02">2017/10/06</span>
        </a>
        
        <a id="top" class="后端开发 Ansible "
           href="/2017-09-30-ansible-base-use.html"
           data-tag="Ansible"
           data-author="" >
            <span class="post-title" title="ansible 一些基本使用方法的记录">ansible 一些基本使用方法的记录</span>
            <span class="post-date" title="2017-09-30 11:20:47">2017/09/30</span>
        </a>
        
        <a id="top" class="大数据 CDH "
           href="/2017-12-15-big-data-cdh-5-14-2-install.html"
           data-tag=""
           data-author="" >
            <span class="post-title" title="centos7 本地源方式部署 CDH 大数据服务管理平台">centos7 本地源方式部署 CDH 大数据服务管理平台</span>
            <span class="post-date" title="2017-12-15 11:20:47">2017/12/15</span>
        </a>
        
        <a id="top" class="后端开发 Docker "
           href="/2017-10-03-docker-base-use.html"
           data-tag="Docker"
           data-author="" >
            <span class="post-title" title="Docker 基本操作">Docker 基本操作</span>
            <span class="post-date" title="2017-10-03 23:38:00">2017/10/03</span>
        </a>
        
        <a id="top" class="后端开发 Redis "
           href="/2018-09-10-distributed-lock.html"
           data-tag="Redis,Nosql"
           data-author="" >
            <span class="post-title" title="分布式锁(redis &amp; zookeeper)">分布式锁(redis &amp; zookeeper)</span>
            <span class="post-date" title="2018-09-10 23:38:23">2018/09/10</span>
        </a>
        
        <a id="top" class="后端开发 Linux "
           href="/2017-09-21-file-descriptor.html"
           data-tag="后端开发,Linux"
           data-author="" >
            <span class="post-title" title="文件描述符（File Descriptor）简介">文件描述符（File Descriptor）简介</span>
            <span class="post-date" title="2017-09-21 09:24:06">2017/09/21</span>
        </a>
        
        <a id="top" class="大数据 Hadoop "
           href="/2018-02-16-hadoop-hdfs-base.html"
           data-tag="大数据,Hadoop"
           data-author="" >
            <span class="post-title" title="HDFS 系统基础介绍及使用(python)">HDFS 系统基础介绍及使用(python)</span>
            <span class="post-date" title="2018-02-16 18:19:32">2018/02/16</span>
        </a>
        
        <a id="top" class="Go Go 语言注意点 "
           href="/2018-11-05-go-the-zero-value-of-struct-is-not-nil.html"
           data-tag="Go"
           data-author="" >
            <span class="post-title" title="Go语言-结构体的零值问题">Go语言-结构体的零值问题</span>
            <span class="post-date" title="2018-11-05 12:58:50">2018/11/05</span>
        </a>
        
        <a id="top" class="大数据 Hive "
           href="/2018-04-23-hive-base.html"
           data-tag="大数据,Hive"
           data-author="" >
            <span class="post-title" title="Hive 基础及实践">Hive 基础及实践</span>
            <span class="post-date" title="2018-04-23 18:19:32">2018/04/23</span>
        </a>
        
        <a id="top" class="大数据 Hive "
           href="/2018-06-30-hive-optimization.html"
           data-tag="大数据,Hive"
           data-author="" >
            <span class="post-title" title="Hive 优化总结">Hive 优化总结</span>
            <span class="post-date" title="2018-06-30 18:19:32">2018/06/30</span>
        </a>
        
        <a id="top" class="环境搭建 "
           href="/2017-10-16-install-hadoop.html"
           data-tag="Hadoop,环境搭建"
           data-author="" >
            <span class="post-title" title="使用 ansible 部署 hadoop 集群">使用 ansible 部署 hadoop 集群</span>
            <span class="post-date" title="2017-10-16 18:19:32">2017/10/16</span>
        </a>
        
        <a id="top" class="环境搭建 "
           href="/2017-10-23-install-hive.html"
           data-tag="Hive,环境搭建"
           data-author="" >
            <span class="post-title" title="使用 ansible 部署 hive （远程 mysql 存储 metadata）">使用 ansible 部署 hive （远程 mysql 存储 metadata）</span>
            <span class="post-date" title="2017-10-23 18:19:32">2017/10/23</span>
        </a>
        
        <a id="top" class="环境搭建 "
           href="/2017-11-28-install-zookeeper.html"
           data-tag="环境搭建,Zookeeper"
           data-author="" >
            <span class="post-title" title="使用 ansible 部署 zookeeper 环境">使用 ansible 部署 zookeeper 环境</span>
            <span class="post-date" title="2017-11-28 12:42:24">2017/11/28</span>
        </a>
        
        <a id="top" class="环境搭建 "
           href="/2017-10-13-install-jdk.html"
           data-tag="环境搭建,Java"
           data-author="" >
            <span class="post-title" title="使用 ansible 部署 java(jdk) 环境">使用 ansible 部署 java(jdk) 环境</span>
            <span class="post-date" title="2017-10-13 18:19:32">2017/10/13</span>
        </a>
        
        <a id="top" class="环境搭建 "
           href="/2017-12-03-install-kafka.html"
           data-tag="环境搭建,Kafka"
           data-author="" >
            <span class="post-title" title="使用 ansible 部署 kafka 集群">使用 ansible 部署 kafka 集群</span>
            <span class="post-date" title="2017-12-03 07:01:41">2017/12/03</span>
        </a>
        
        <a id="top" class="后端开发 Linux "
           href="/2017-05-28-linux-top.html"
           data-tag="后端开发,Linux"
           data-author="" >
            <span class="post-title" title="Linux 命令 top 拆解">Linux 命令 top 拆解</span>
            <span class="post-date" title="2017-05-28 09:24:06">2017/05/28</span>
        </a>
        
        <a id="top" class="大数据 Kafka "
           href="/2017-12-19-kafka-intro.html"
           data-tag="Kafka,消息队列"
           data-author="" >
            <span class="post-title" title="kafka python 客户端使用">kafka python 客户端使用</span>
            <span class="post-date" title="2017-12-19 12:58:50">2017/12/19</span>
        </a>
        
        <a id="top" class="机器学习 算法 "
           href="/2018-03-03-ml-gradient-descent.html"
           data-tag="机器学习,回归"
           data-author="" >
            <span class="post-title" title="梯度下降求解逻辑回归">梯度下降求解逻辑回归</span>
            <span class="post-date" title="2018-03-03 09:24:06">2018/03/03</span>
        </a>
        
        <a id="top" class="机器学习 案例 "
           href="/2018-03-10-ml-linearregression-advertising.html"
           data-tag="机器学习,回归"
           data-author="" >
            <span class="post-title" title="LinearRegression建立广告投放与销售量的模型(sklearn)">LinearRegression建立广告投放与销售量的模型(sklearn)</span>
            <span class="post-date" title="2018-03-10 09:24:06">2018/03/10</span>
        </a>
        
        <a id="top" class="Interesting Music "
           href="/2018-05-17-music-eason-unconditional.html"
           data-tag="音乐"
           data-author="" >
            <span class="post-title" title="温情脉脉 —《无条件》">温情脉脉 —《无条件》</span>
            <span class="post-date" title="2018-05-17 12:58:50">2018/05/17</span>
        </a>
        
        <a id="top" class="机器学习 算法 "
           href="/2018-02-26-ml-regression-pic.html"
           data-tag="机器学习,回归"
           data-author="" >
            <span class="post-title" title="线性回归算法推导">线性回归算法推导</span>
            <span class="post-date" title="2018-02-26 09:24:06">2018/02/26</span>
        </a>
        
        <a id="top" class="后端开发 MySQL "
           href="/2017-07-30-mysql-authority-management.html"
           data-tag="后端开发,MySQL"
           data-author="" >
            <span class="post-title" title="MySQL 权限管理">MySQL 权限管理</span>
            <span class="post-date" title="2017-07-30 09:24:06">2017/07/30</span>
        </a>
        
        <a id="top" class="后端开发 MySQL "
           href="/2017-06-20-mysql-binlog.html"
           data-tag="后端开发,MySQL"
           data-author="" >
            <span class="post-title" title="MySQL二进制日志 binlog 详细介绍">MySQL二进制日志 binlog 详细介绍</span>
            <span class="post-date" title="2017-06-20 09:24:06">2017/06/20</span>
        </a>
        
        <a id="top" class="后端开发 MySQL "
           href="/2017-08-29-mysql-backup-restore.html"
           data-tag="后端开发,MySQL"
           data-author="" >
            <span class="post-title" title="MySQL 备份和恢复机制">MySQL 备份和恢复机制</span>
            <span class="post-date" title="2017-08-29 09:24:06">2017/08/29</span>
        </a>
        
        <a id="top" class="后端开发 MySQL "
           href="/2018-07-08-mysql-commonly-used-tools.html"
           data-tag="后端开发,MySQL"
           data-author="" >
            <span class="post-title" title="MySQL 中的常用工具">MySQL 中的常用工具</span>
            <span class="post-date" title="2018-07-08 09:24:06">2018/07/08</span>
        </a>
        
        <a id="top" class="后端开发 MySQL "
           href="/2017-07-09-mysql-common-skill.html"
           data-tag="后端开发,MySQL"
           data-author="" >
            <span class="post-title" title="MySQL 常见问题和应用技巧">MySQL 常见问题和应用技巧</span>
            <span class="post-date" title="2017-07-09 09:24:06">2017/07/09</span>
        </a>
        
        <a id="top" class="后端开发 MySQL "
           href="/2017-07-23-mysql-concurrent-params.html"
           data-tag="后端开发,MySQL"
           data-author="" >
            <span class="post-title" title="调整 MySQL 并发相关的参数">调整 MySQL 并发相关的参数</span>
            <span class="post-date" title="2017-07-23 09:24:06">2017/07/23</span>
        </a>
        
        <a id="top" class="后端开发 MySQL "
           href="/2017-08-07-mysql-index-optimization.html"
           data-tag="后端开发,MySQL"
           data-author="" >
            <span class="post-title" title="MySql 索引优化">MySql 索引优化</span>
            <span class="post-date" title="2017-08-07 09:24:06">2017/08/07</span>
        </a>
        
        <a id="top" class="后端开发 MySQL "
           href="/2017-06-16-mysql-innodb-log.html"
           data-tag="后端开发,MySQL"
           data-author="" >
            <span class="post-title" title="MySQL Innodb 日志机制及优化">MySQL Innodb 日志机制及优化</span>
            <span class="post-date" title="2017-06-16 09:24:06">2017/06/16</span>
        </a>
        
        <a id="top" class="后端开发 MySQL "
           href="/2017-07-02-mysql-lock-intro.html"
           data-tag="后端开发,MySQL"
           data-author="" >
            <span class="post-title" title="MySQL 锁机制">MySQL 锁机制</span>
            <span class="post-date" title="2017-07-02 09:24:06">2017/07/02</span>
        </a>
        
        <a id="top" class="后端开发 MySQL "
           href="/2017-06-24-mysql-log.html"
           data-tag="后端开发,MySQL"
           data-author="" >
            <span class="post-title" title="MySQL 日志介绍">MySQL 日志介绍</span>
            <span class="post-date" title="2017-06-24 09:24:06">2017/06/24</span>
        </a>
        
        <a id="top" class="后端开发 MySQL "
           href="/2017-08-16-mysql-memory-optimization.html"
           data-tag="后端开发,MySQL"
           data-author="" >
            <span class="post-title" title="MySQL 内存优化">MySQL 内存优化</span>
            <span class="post-date" title="2017-08-16 09:24:06">2017/08/16</span>
        </a>
        
        <a id="top" class="后端开发 MySQL "
           href="/2018-08-26-mysql-optimization.html"
           data-tag="后端开发,MySQL"
           data-author="" >
            <span class="post-title" title="MySQL 性能优化(全面)">MySQL 性能优化(全面)</span>
            <span class="post-date" title="2018-08-26 09:24:06">2018/08/26</span>
        </a>
        
        <a id="top" class="后端开发 MySQL "
           href="/2017-09-05-mysql-partition.html"
           data-tag="后端开发,MySQL"
           data-author="" >
            <span class="post-title" title="MySql 表分区">MySql 表分区</span>
            <span class="post-date" title="2017-09-05 09:24:06">2017/09/05</span>
        </a>
        
        <a id="top" class="后端开发 MySQL "
           href="/2017-09-13-mysql-replication.html"
           data-tag="后端开发,MySQL"
           data-author="" >
            <span class="post-title" title="MySQL 主从复制">MySQL 主从复制</span>
            <span class="post-date" title="2017-09-13 09:24:06">2017/09/13</span>
        </a>
        
        <a id="top" class="后端开发 MySQL "
           href="/2017-06-10-mysql-sql-optimization-steps.html"
           data-tag="后端开发,MySQL"
           data-author="" >
            <span class="post-title" title="优化 sql 语句的一般步骤">优化 sql 语句的一般步骤</span>
            <span class="post-date" title="2017-06-10 09:24:06">2017/06/10</span>
        </a>
        
        <a id="top" class="大数据 数据分析 "
           href="/2018-02-18-pandas-intro.html"
           data-tag="Pandas"
           data-author="" >
            <span class="post-title" title="pandas 入门练习">pandas 入门练习</span>
            <span class="post-date" title="2018-02-18 11:20:47">2018/02/18</span>
        </a>
        
        <a id="top" class="后端开发 MySQL "
           href="/2017-08-22-mysql-select-optimization.html"
           data-tag="后端开发,MySQL"
           data-author="" >
            <span class="post-title" title="MySQL 查询优化">MySQL 查询优化</span>
            <span class="post-date" title="2017-08-22 09:24:06">2017/08/22</span>
        </a>
        
        <a id="top" class="大数据 数据分析 "
           href="/2018-02-10-numpy-intro.html"
           data-tag="Numpy"
           data-author="" >
            <span class="post-title" title="numpy 入门练习">numpy 入门练习</span>
            <span class="post-date" title="2018-02-10 11:20:47">2018/02/10</span>
        </a>
        
        <a id="top" class="大数据 Spark "
           href="/2018-04-03-pyspark-custom-accumulator.html"
           data-tag="Spark,开发"
           data-author="" >
            <span class="post-title" title="pyspark 自定义累加器(python)">pyspark 自定义累加器(python)</span>
            <span class="post-date" title="2018-04-03 11:20:47">2018/04/03</span>
        </a>
        
        <a id="top" class="Python "
           href="/2018-05-22-python-singleton.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="四种 python 实现的单例模式的方式">四种 python 实现的单例模式的方式</span>
            <span class="post-date" title="2018-05-22 09:24:06">2018/05/22</span>
        </a>
        
        <a id="top" class="后端开发 Redis "
           href="/2018-08-11-redis-basic.html"
           data-tag="Redis,Nosql"
           data-author="" >
            <span class="post-title" title="Redis 数据类型及应用场景">Redis 数据类型及应用场景</span>
            <span class="post-date" title="2018-08-11 23:38:23">2018/08/11</span>
        </a>
        
        <a id="top" class="大数据 Spark "
           href="/2018-01-01-pyspark-read-write.html"
           data-tag="Spark,开发"
           data-author="" >
            <span class="post-title" title="Spark 读取和转存数据(python)">Spark 读取和转存数据(python)</span>
            <span class="post-date" title="2018-01-01 07:34:19">2018/01/01</span>
        </a>
        
        <a id="top" class="后端开发 Redis "
           href="/2018-03-21-redis-cluster.html"
           data-tag="Redis,Nosql"
           data-author="" >
            <span class="post-title" title="Redis Cluster 介绍">Redis Cluster 介绍</span>
            <span class="post-date" title="2018-03-21 23:38:23">2018/03/21</span>
        </a>
        
        <a id="top" class="后端开发 Redis "
           href="/2017-11-07-redis-persistence.html"
           data-tag="Redis,Nosql"
           data-author="" >
            <span class="post-title" title="Redis 持久化介绍(RDB 和 AOF)">Redis 持久化介绍(RDB 和 AOF)</span>
            <span class="post-date" title="2017-11-07 23:38:23">2017/11/07</span>
        </a>
        
        <a id="top" class="后端开发 Redis "
           href="/2017-11-15-redis-replication.html"
           data-tag="Redis,Nosql"
           data-author="" >
            <span class="post-title" title="Redis Replication 原理是实践">Redis Replication 原理是实践</span>
            <span class="post-date" title="2017-11-15 23:38:23">2017/11/15</span>
        </a>
        
        <a id="top" class="后端开发 Redis "
           href="/2018-03-16-redis-sentinel.html"
           data-tag="Redis,Nosql"
           data-author="" >
            <span class="post-title" title="Redis 哨兵(sentinal)">Redis 哨兵(sentinal)</span>
            <span class="post-date" title="2018-03-16 23:38:23">2018/03/16</span>
        </a>
        
        <a id="top" class="后端开发 RPC "
           href="/2018-05-27-rpc-distribute-zookeeper-python.html"
           data-tag="后端开发,RPC"
           data-author="" >
            <span class="post-title" title="基于zookeeper的分布式RPC(python)">基于zookeeper的分布式RPC(python)</span>
            <span class="post-date" title="2018-05-27 09:24:06">2018/05/27</span>
        </a>
        
        <a id="top" class="后端开发 RPC "
           href="/2018-05-23-rpc-basic-python.html"
           data-tag="后端开发,RPC"
           data-author="" >
            <span class="post-title" title="RPC 模型基础知识(python)">RPC 模型基础知识(python)</span>
            <span class="post-date" title="2018-05-23 09:24:06">2018/05/23</span>
        </a>
        
        <a id="top" class="后端开发 RPC "
           href="/2018-06-01-rpc-grpc-python-ping.html"
           data-tag="后端开发,RPC"
           data-author="" >
            <span class="post-title" title="grpc开发入门(python)">grpc开发入门(python)</span>
            <span class="post-date" title="2018-06-01 09:24:06">2018/06/01</span>
        </a>
        
        <a id="top" class="大数据 Spark "
           href="/2018-01-09-spark-and-sql-join-pattern.html"
           data-tag="Spark,开发"
           data-author="" >
            <span class="post-title" title="快速区分 spark 四种关联方式(结论适用于 sql)">快速区分 spark 四种关联方式(结论适用于 sql)</span>
            <span class="post-date" title="2018-01-09 11:20:47">2018/01/09</span>
        </a>
        
        <a id="top" class="后端开发 RPC "
           href="/2018-05-16-rpc-protocol-basic.html"
           data-tag="后端开发,RPC"
           data-author="" >
            <span class="post-title" title="RPC 消息协议设计注意点">RPC 消息协议设计注意点</span>
            <span class="post-date" title="2018-05-16 09:24:06">2018/05/16</span>
        </a>
        
        <a id="top" class="大数据 Spark "
           href="/2018-04-22-spark-app-area-top3-product.html"
           data-tag="Spark,开发"
           data-author="" >
            <span class="post-title" title="各区域热门商品统计(pyspark)">各区域热门商品统计(pyspark)</span>
            <span class="post-date" title="2018-04-22 09:24:06">2018/04/22</span>
        </a>
        
        <a id="top" class="大数据 Spark "
           href="/2018-04-20-spark-app-page-convert-rate.html"
           data-tag="Spark,开发"
           data-author="" >
            <span class="post-title" title="计算页面单跳转化率(pyspark)">计算页面单跳转化率(pyspark)</span>
            <span class="post-date" title="2018-04-20 09:24:06">2018/04/20</span>
        </a>
        
        <a id="top" class="大数据 Spark "
           href="/2018-04-19-spark-app-session-analysis.html"
           data-tag="Spark,开发"
           data-author="" >
            <span class="post-title" title="用户行为分析(pyspark)">用户行为分析(pyspark)</span>
            <span class="post-date" title="2018-04-19 09:24:06">2018/04/19</span>
        </a>
        
        <a id="top" class="大数据 Spark "
           href="/2018-02-02-spark-base-optimization.html"
           data-tag="Spark,性能调优"
           data-author="" >
            <span class="post-title" title="spark 性能优化方法">spark 性能优化方法</span>
            <span class="post-date" title="2018-02-02 09:24:06">2018/02/02</span>
        </a>
        
        <a id="top" class="大数据 Spark "
           href="/2018-01-22-spark-functions-optimization.html"
           data-tag="Spark,性能调优"
           data-author="" >
            <span class="post-title" title="Spark 算子调优方法">Spark 算子调优方法</span>
            <span class="post-date" title="2018-01-22 09:24:06">2018/01/22</span>
        </a>
        
        <a id="top" class="大数据 Spark "
           href="/2017-12-25-spark-operating-mechanism.html"
           data-tag="Spark,原理"
           data-author="" >
            <span class="post-title" title="Spark 运行机制">Spark 运行机制</span>
            <span class="post-date" title="2017-12-25 11:20:47">2017/12/25</span>
        </a>
        
        <a id="top" class="大数据 Spark "
           href="/2018-01-01-spark-rdd-dependence.html"
           data-tag="Spark,Spark 原理"
           data-author="" >
            <span class="post-title" title="Spark RDD 的 窄依赖和宽依赖(以 wordcount 程序为例)">Spark RDD 的 窄依赖和宽依赖(以 wordcount 程序为例)</span>
            <span class="post-date" title="2018-01-01 09:24:06">2018/01/01</span>
        </a>
        
        <a id="top" class="大数据 Spark "
           href="/2018-07-19-spark-shuffle-optimization.html"
           data-tag="Spark,性能调优"
           data-author="" >
            <span class="post-title" title="Spark Shuffle 性能调优">Spark Shuffle 性能调优</span>
            <span class="post-date" title="2018-07-19 11:20:47">2018/07/19</span>
        </a>
        
        <a id="top" class="大数据 Spark "
           href="/2018-06-19-spark-sql-rdd.html"
           data-tag="Spark,开发"
           data-author="" >
            <span class="post-title" title="Spark Sql 两种将 RDD 转为 DataFrame 的方式">Spark Sql 两种将 RDD 转为 DataFrame 的方式</span>
            <span class="post-date" title="2018-06-19 11:20:47">2018/06/19</span>
        </a>
        
        <a id="top" class="大数据 Spark "
           href="/2018-01-17-spark-standalone.html"
           data-tag="Spark,原理"
           data-author="" >
            <span class="post-title" title="Spark Standalone 运行模式">Spark Standalone 运行模式</span>
            <span class="post-date" title="2018-01-17 11:20:47">2018/01/17</span>
        </a>
        
        <a id="top" class="大数据 Spark "
           href="/2018-06-10-spark-streaming-checkpoint.html"
           data-tag="Spark,开发"
           data-author="" >
            <span class="post-title" title="Spark Streaming 使用 checkpoint 做恢复">Spark Streaming 使用 checkpoint 做恢复</span>
            <span class="post-date" title="2018-06-10 11:20:47">2018/06/10</span>
        </a>
        
        <a id="top" class="大数据 Spark "
           href="/2018-04-24-spark-streaming-transform.html"
           data-tag="Spark,开发"
           data-author="" >
            <span class="post-title" title="sparkStreaming 实时黑名单过滤(pyspark)">sparkStreaming 实时黑名单过滤(pyspark)</span>
            <span class="post-date" title="2018-04-24 11:20:47">2018/04/24</span>
        </a>
        
        <a id="top" class="大数据 Spark "
           href="/2018-05-02-spark-streaming-sql-top3.html"
           data-tag="Spark,开发"
           data-author="" >
            <span class="post-title" title="Spark Streaming 与 spark sql 结合实时统计点击量top3商品">Spark Streaming 与 spark sql 结合实时统计点击量top3商品</span>
            <span class="post-date" title="2018-05-02 11:20:47">2018/05/02</span>
        </a>
        
        <a id="top" class="大数据 Spark "
           href="/2018-04-25-spark-streaming-window.html"
           data-tag="Spark,开发"
           data-author="" >
            <span class="post-title" title="Spark Streaming 热点搜索词滑动统计(pyspark)">Spark Streaming 热点搜索词滑动统计(pyspark)</span>
            <span class="post-date" title="2018-04-25 11:20:47">2018/04/25</span>
        </a>
        
        <a id="top" class="大数据 Spark "
           href="/2018-04-23-spark-updatestatebykey.html"
           data-tag="Spark,开发"
           data-author="" >
            <span class="post-title" title="UpdateStateByKey 实时统计全局wordcount(pyspark)">UpdateStateByKey 实时统计全局wordcount(pyspark)</span>
            <span class="post-date" title="2018-04-23 11:20:47">2018/04/23</span>
        </a>
        
        <a id="top" class="大数据 Spark "
           href="/2018-01-27-spark-yarn-client-cluster.html"
           data-tag="Spark,原理"
           data-author="" >
            <span class="post-title" title="Spark 的 Yarn-cluster 和 Yarn-client 提交模式">Spark 的 Yarn-cluster 和 Yarn-client 提交模式</span>
            <span class="post-date" title="2018-01-27 09:24:06">2018/01/27</span>
        </a>
        
        <a id="top" class="后端开发 Linux "
           href="/2017-09-25-supervisor-intro.html"
           data-tag="工具"
           data-author="" >
            <span class="post-title" title="进程管理工具 supervisor">进程管理工具 supervisor</span>
            <span class="post-date" title="2017-09-25 11:20:47">2017/09/25</span>
        </a>
        
        <a id="top" class="大数据 Zookeeper "
           href="/2017-11-25-zookeeper-intro.html"
           data-tag="大数据,分布式协作框架"
           data-author="" >
            <span class="post-title" title="zookeeper概述(应用场景及基本概念)">zookeeper概述(应用场景及基本概念)</span>
            <span class="post-date" title="2017-11-25 09:23:42">2017/11/25</span>
        </a>
        
        <a id="top" class="后端开发 Linux "
           href="/2017-05-14-uid-euid-gid-egid-introduce.html"
           data-tag="Linux 权限问题"
           data-author="" >
            <span class="post-title" title="关于 Linux 进程的 UID、EUID、GID 和 EGID">关于 Linux 进程的 UID、EUID、GID 和 EGID</span>
            <span class="post-date" title="2017-05-14 17:13:00">2017/05/14</span>
        </a>
        
        <a id="top" class="大数据 Zookeeper "
           href="/2018-10-03-zookeeper-kazoo-usage.html"
           data-tag="大数据,分布式协作框架"
           data-author="" >
            <span class="post-title" title="zookeeper python 客户端 kazoo 使用指南(译自官网)">zookeeper python 客户端 kazoo 使用指南(译自官网)</span>
            <span class="post-date" title="2018-10-03 09:23:42">2018/10/03</span>
        </a>
        
        <a id="top" class="算法与数据结构 基础 "
           href="/2017-05-21-algorithm-efficiency-analysis.html"
           data-tag="时间复杂度,大O算法"
           data-author="" >
            <span class="post-title" title="算法效率分析">算法效率分析</span>
            <span class="post-date" title="2017-05-21 09:24:06">2017/05/21</span>
        </a>
        
    </nav>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div class="post">
    <div class="pjax">
        <article id="post-mysql-commonly-used-tools" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">MySQL 中的常用工具</h1>
    
    <div class="article-meta">
        
        <span class="top"><a>置顶</a></span>
        
        
        
        <span class="book">
            
                <a  data-rel="后端开发">后端开发</a>/
            
                <a  data-rel="MySQL">MySQL</a>
            
        </span>
        
        
        <span class="tag">
            
            <a class="color5">后端开发</a>
            
            <a class="color1">MySQL</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
        创建时间:<time class="date" title='更新时间: 2019-12-28 14:03:59'>2018-07-08 09:24</time>
        
    </div>
    <div class="article-meta">
        
        <span>字数:4.6k</span>
        
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#mysql-（客户端连接工具）"><span class="toc-text">mysql （客户端连接工具）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#连接选项"><span class="toc-text">连接选项</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#客户端字符集选项"><span class="toc-text">客户端字符集选项</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#执行选项"><span class="toc-text">执行选项</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#格式化选项"><span class="toc-text">格式化选项</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#myisampack-（myisam-表压缩工具）"><span class="toc-text">myisampack （myisam 表压缩工具）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mysqladmin（MySQL-管理工具）"><span class="toc-text">mysqladmin（MySQL 管理工具）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#日志管理工具"><span class="toc-text">日志管理工具</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#示例准备：创建新日志，新建库-t1-和-t2-以及分别新建表-test1-和-test2"><span class="toc-text">示例准备：创建新日志，新建库 t1 和 t2, 以及分别新建表 test1 和 test2</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#不加任何参数，显示所有日志"><span class="toc-text">不加任何参数，显示所有日志</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#加-d-选项，将只显示-t2-数据库的操作日志"><span class="toc-text">加 -d 选项，将只显示 t2 数据库的操作日志</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#加-o-选项-忽略掉前-20-行命令"><span class="toc-text">加 -o 选项, 忽略掉前 20 行命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#加-r-选项，将上面的结果输出到文件-resultfile-中"><span class="toc-text">加 -r 选项，将上面的结果输出到文件 resultfile 中</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#结果显示的内容较多，显得比较乱，加-s-选项将上面的内容进行简单显示"><span class="toc-text">结果显示的内容较多，显得比较乱，加 -s 选项将上面的内容进行简单显示</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#加-“–start-datetime-–stop-datetime”-选项显示-5-00-00-5-01-00-之间的日志"><span class="toc-text">加 “–start-datetime –stop-datetime” 选项显示 5:00:00 ~ 5:01:00 之间的日志</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#–start-position-和-–stop-position-与日期范围类似，不过可以更精确的表示范围。"><span class="toc-text">–start-position&#x3D;# 和 –stop-position&#x3D;#, 与日期范围类似，不过可以更精确的表示范围。</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mysqlcheck-myisam-表维护工具"><span class="toc-text">mysqlcheck (myisam 表维护工具)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#检查表"><span class="toc-text">检查表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#修复表"><span class="toc-text">修复表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#分析表"><span class="toc-text">分析表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#优化表"><span class="toc-text">优化表</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mysqldump-（数据导出工具）"><span class="toc-text">mysqldump （数据导出工具）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#连接选项-1"><span class="toc-text">连接选项</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#输出内容选项"><span class="toc-text">输出内容选项</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#输出格式选项"><span class="toc-text">输出格式选项</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#练习"><span class="toc-text">练习</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#创建备份目录"><span class="toc-text">创建备份目录</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#将-t2-数据库下的表-emp-备份到-bak-目录下"><span class="toc-text">将 t2 数据库下的表 emp 备份到 bak 目录下</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#查看-bak-目录，发现两个文件"><span class="toc-text">查看 bak 目录，发现两个文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#查看两个文件的内容，-sql-结尾的是建表及插入数据的sql，-txt-结尾的是表数据"><span class="toc-text">查看两个文件的内容， .sql 结尾的是建表及插入数据的sql，.txt 结尾的是表数据</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#字符集选项"><span class="toc-text">字符集选项</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#其他常用选项"><span class="toc-text">其他常用选项</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mysqlimport-（数据导入工具）"><span class="toc-text">mysqlimport （数据导入工具）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mysqlshow-数据库对象查看工具"><span class="toc-text">mysqlshow (数据库对象查看工具)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#–count-显示数据库和表的统计信息"><span class="toc-text">–count (显示数据库和表的统计信息)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#k-或者-–keys-显示指定表中的所有索引"><span class="toc-text">-k 或者 –keys (显示指定表中的所有索引)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#i-或者-–status-显示表的一些状态信息"><span class="toc-text">-i 或者 –status (显示表的一些状态信息)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#perror-（错误代码查看工具）"><span class="toc-text">perror （错误代码查看工具）</span></a></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="mysql-（客户端连接工具）"><a href="#mysql-（客户端连接工具）" class="headerlink" title="mysql （客户端连接工具）"></a>mysql （客户端连接工具）</h3><p>使用最频繁的连接数据库的客户端工具，使用语法如下：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql [options] [database]</span><br></pre></td></tr></table></figure>

<p>这里的 options 表示 mysql 的可用选项，可以一次写一个或者多个，甚至可以不写；database 表示连接的数据库，一次只能写一个或者不写，如果不写，连接成功后需要用 “use database”命令来进入要操作的数据库。  </p>
<h4 id="连接选项"><a href="#连接选项" class="headerlink" title="连接选项"></a>连接选项</h4><p>选项的表达方式有多种，例如：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 这三种方式都是可以的</span><br><span class="line">shell&gt; mysql -u root</span><br><span class="line">shell&gt; mysql -uroot</span><br><span class="line">shell&gt; mysql -user&#x3D;root</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-u, --user&#x3D;name    指定用户名</span><br><span class="line">-p, --password[&#x3D;name]    指定密码  </span><br><span class="line">-h, --host&#x3D;name    指定服务器 IP 或者域名  </span><br><span class="line">-P, --port&#x3D;#    指定连接端口</span><br></pre></td></tr></table></figure>

<p>一般在在本地环境，为了方便，可以在 配置文件 my.cnf 中配置当前用户和密码，配置好后，直接执行 mysql 就可以连接到数据库：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[client]</span><br><span class="line">user&#x3D;root</span><br><span class="line">password&#x3D;000000</span><br><span class="line">port &#x3D; 3306</span><br><span class="line">socket &#x3D; &#x2F;tmp&#x2F;mysql.sock</span><br><span class="line">default-character-set &#x3D; utf8mb4</span><br></pre></td></tr></table></figure>
<p>配置好后，直接执行 mysql 即可:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">zj@bogon:~$ mysql</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 19</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>登录远程服务器，需要指定地址和端口：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shell&gt; mysql -h 192.168.10.10 -P 3306 -uroot -p</span><br></pre></td></tr></table></figure>

<p>** 注意： **在正式的生产环境中，为了安全起见，一般需要创建应用账号并赋予适当权限，而不会用 root 直接操作数据库；默认端口（3306）一般不要使用，可以改为任意操作系统未占用的端口。  </p>
<h4 id="客户端字符集选项"><a href="#客户端字符集选项" class="headerlink" title="客户端字符集选项"></a>客户端字符集选项</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--default-character-set&#x3D;charset-name</span><br></pre></td></tr></table></figure>
<p>作为服务器的字符集选项，这个选项也可以配置在 my.cnf 的 [mysqld] 组中。同样，作为客户端字符集选项，也可以配置在 my.cnf 的 [mysql]组中，这样每次用 mysql 工具连接数据库的时候就会自动使用此客户端字符集。当然，也可以在 mysql 的命令行中手工指定客户端字符集：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shell&gt; mysql -u user -default-character-set&#x3D;charset</span><br></pre></td></tr></table></figure>

<p>相当于在 mysql 客户端连接成功后执行：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set names charset;</span><br></pre></td></tr></table></figure>

<h4 id="执行选项"><a href="#执行选项" class="headerlink" title="执行选项"></a>执行选项</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-e, --execute&#x3D;name        &#x2F;&#x2F; 执行 sql 语句并退出</span><br></pre></td></tr></table></figure>
<p>此选项可以直接在 MySQL 客户端执行 sql 语句，对于一些批处理脚本，这是方式尤其方便：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">zj@bogon:~$ mysql mysql -e &quot;select user,host from user&quot;</span><br><span class="line">+-----------+-----------+</span><br><span class="line">| user      | host      |</span><br><span class="line">+-----------+-----------+</span><br><span class="line">| root      | 127.0.0.1 |</span><br><span class="line">| mysql.sys | localhost |</span><br><span class="line">| root      | localhost |</span><br><span class="line">+-----------+-----------+</span><br></pre></td></tr></table></figure>
<p>可以按这种方式连续执行多个 sql 语句，用英文分号（；）隔开。  </p>
<h4 id="格式化选项"><a href="#格式化选项" class="headerlink" title="格式化选项"></a>格式化选项</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-E, --vertical    将输出方式按照字段顺序竖着显示  </span><br><span class="line">-s, --silent    去掉 mysql 中的线条框显示</span><br></pre></td></tr></table></figure>
<p>“-E” 选项类似于 mysql 里面执行 sql 语句后加 “\G”, 经常和 -e 一起使用。  </p>
<h3 id="myisampack-（myisam-表压缩工具）"><a href="#myisampack-（myisam-表压缩工具）" class="headerlink" title="myisampack （myisam 表压缩工具）"></a>myisampack （myisam 表压缩工具）</h3><p>myisampack 是一个表压缩工具，可以使用很高的压缩率来对 myisam 存储引擎的表进行压缩，使得压缩后的表占用比压缩前小得多的空间。但是压缩后的表将成为一个只读表，不能进行 DML 操作。</p>
<h3 id="mysqladmin（MySQL-管理工具）"><a href="#mysqladmin（MySQL-管理工具）" class="headerlink" title="mysqladmin（MySQL 管理工具）"></a>mysqladmin（MySQL 管理工具）</h3><p>mysqladmin 是一个执行管理操作的客户端程序。可以用它来检查服务器的配置和当前状态、创建并删除数据库等。它的功能与 mysql 客户端非常类似，主要区别在于它更侧重于一些管理方面的功能。  </p>
<p>使用语法：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shell&gt; mysqladmin [options] command [command-options]...</span><br></pre></td></tr></table></figure>
<p>可以执行的命令如下：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">create databasename	    Create a new database    新建数据库</span><br><span class="line">debug			            Instruct server to write debug information to log     把 debug 日志记录到日志文件中</span><br><span class="line">drop databasename	        Delete a database and all its tables    删除数据库</span><br><span class="line">extended-status           Gives an extended status message from the server    查看 MySQL 服务器的状态信息</span><br><span class="line">flush-hosts               Flush all cached hosts</span><br><span class="line">flush-logs                Flush all logs</span><br><span class="line">flush-status		        Clear status variables</span><br><span class="line">flush-tables              Flush all tables</span><br><span class="line">flush-threads             Flush the thread cache</span><br><span class="line">flush-privileges          Reload grant tables (same as reload)</span><br><span class="line">kill id,id,...	        Kill mysql threads</span><br><span class="line">password [new-password]   Change old password to new-password in current format</span><br><span class="line">ping			            Check if mysqld is alive</span><br><span class="line">processlist		        Show list of active threads in server</span><br><span class="line">reload		            Reload grant tables</span><br><span class="line">refresh		            Flush all tables and close and open logfiles</span><br><span class="line">shutdown		            Take server down</span><br><span class="line">status		            Gives a short status message from the server</span><br><span class="line">start-slave		        Start slave</span><br><span class="line">stop-slave		        Stop slave</span><br><span class="line">variables                 Prints variables available</span><br><span class="line">version		            Get version info from server</span><br></pre></td></tr></table></figure>
<p>举例:  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">zj@bogon:&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin$ mysqladmin -uroot -p shutdown</span><br><span class="line">Enter password:</span><br></pre></td></tr></table></figure>

<h3 id="日志管理工具"><a href="#日志管理工具" class="headerlink" title="日志管理工具"></a>日志管理工具</h3><p>由于服务器生成的二进制文件以二进制格式保存，所以如果想要检查这些文件的文本格式，就会用到 mysqlbinlog 日志管理工具。<br>用法如下：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shell&gt; mysqlbinlog [option] log-file1 log-file2...</span><br></pre></td></tr></table></figure>
<p>option 有很多选项：  </p>
<ul>
<li>-d，–database=name： 指定数据库名称，只列出指定的数据库相关操作。  </li>
<li>-o, –offset=#: 忽略日志中的前 n 行命令。  </li>
<li>r, –result-file=name: 将输出的文本格式日志输出到指定文件  </li>
<li>s, –short-form: 显示简单格式，省略掉一些信息。  </li>
<li>-start-datetime=name –stop-datetime=name: 指定日期间隔内的所有日志。  </li>
<li>-start-position=# –stop-position=#： 指定位置间隔内的所有日志  </li>
</ul>
<h4 id="示例准备：创建新日志，新建库-t1-和-t2-以及分别新建表-test1-和-test2"><a href="#示例准备：创建新日志，新建库-t1-和-t2-以及分别新建表-test1-和-test2" class="headerlink" title="示例准备：创建新日志，新建库 t1 和 t2, 以及分别新建表 test1 和 test2"></a>示例准备：创建新日志，新建库 t1 和 t2, 以及分别新建表 test1 和 test2</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">MySQL [(none)]&gt; reset master;</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">MySQL [(none)]&gt; create table t1(id int,name varchar);</span><br><span class="line">ERROR 1046 (3D000): No database selected</span><br><span class="line">MySQL [(none)]&gt; reset master;</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">MySQL [(none)]&gt; create database t1;</span><br><span class="line">Query OK, 1 row affected (0.04 sec)</span><br><span class="line"></span><br><span class="line">MySQL [(none)]&gt; create database t2;</span><br><span class="line">Query OK, 1 row affected (0.02 sec)</span><br><span class="line"></span><br><span class="line">MySQL [(none)]&gt; use t1;</span><br><span class="line">Database changed</span><br><span class="line">MySQL [t1]&gt; create table test1(id int, name varchar(30));</span><br><span class="line">Query OK, 0 rows affected (0.11 sec)</span><br><span class="line"></span><br><span class="line">MySQL [t1]&gt; insert into  test1 value (1,&#39;zj&#39;);</span><br><span class="line">Query OK, 1 row affected (0.14 sec)</span><br><span class="line"></span><br><span class="line">MySQL [t1]&gt; insert into  test1 value (2,&#39;zj2&#39;);</span><br><span class="line">Query OK, 1 row affected (0.02 sec)</span><br><span class="line"></span><br><span class="line">MySQL [t1]&gt; use t2;</span><br><span class="line">Database changed</span><br><span class="line">MySQL [t2]&gt; create table test2(id int,name varchar(30));</span><br><span class="line">Query OK, 0 rows affected (0.02 sec)</span><br><span class="line"></span><br><span class="line">MySQL [t2]&gt; insert into test2 select * from t1.test1;</span><br><span class="line">Query OK, 2 rows affected (0.03 sec)</span><br><span class="line">Records: 2  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MySQL [t2]&gt; select * from t1.test1;</span><br><span class="line">+------+------+</span><br><span class="line">| id   | name |</span><br><span class="line">+------+------+</span><br><span class="line">|    1 | zj   |</span><br><span class="line">|    2 | zj2  |</span><br><span class="line">+------+------+</span><br><span class="line">2 rows in set (0.02 sec)</span><br><span class="line"></span><br><span class="line">MySQL [t2]&gt; select * from test2;</span><br><span class="line">+------+------+</span><br><span class="line">| id   | name |</span><br><span class="line">+------+------+</span><br><span class="line">|    1 | zj   |</span><br><span class="line">|    2 | zj2  |</span><br><span class="line">+------+------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h4 id="不加任何参数，显示所有日志"><a href="#不加任何参数，显示所有日志" class="headerlink" title="不加任何参数，显示所有日志"></a>不加任何参数，显示所有日志</h4><p>注意：必须拥有访问目标文件的权限</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">zj@bogon:&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin$ sudo .&#x2F;mysqlbinlog --no-defaults &#x2F;data&#x2F;mysql&#x2F;mysql-bin.000001</span><br><span class="line">[sudo] password for zj: </span><br><span class="line">&#x2F;*!50530 SET @@SESSION.PSEUDO_SLAVE_MODE&#x3D;1*&#x2F;;</span><br><span class="line">&#x2F;*!50003 SET @OLD_COMPLETION_TYPE&#x3D;@@COMPLETION_TYPE,COMPLETION_TYPE&#x3D;0*&#x2F;;</span><br><span class="line">DELIMITER &#x2F;*!*&#x2F;;</span><br><span class="line"># at 4</span><br><span class="line">#170920 20:44:49 server id 1  end_log_pos 123 CRC32 0x42fd5a4d 	Start: binlog v 4, server v 5.7.18-log created 170920 20:44:49 at startup</span><br><span class="line"></span><br><span class="line">......</span><br><span class="line"></span><br><span class="line">create table test2(id int,name varchar(30))</span><br><span class="line">&#x2F;*!*&#x2F;;</span><br><span class="line"># at 1366</span><br><span class="line">#170920 20:50:29 server id 1  end_log_pos 1431 CRC32 0x18a95938 	Anonymous_GTID	last_committed&#x3D;6	sequence_number&#x3D;7</span><br><span class="line">SET @@SESSION.GTID_NEXT&#x3D; &#39;ANONYMOUS&#39;&#x2F;*!*&#x2F;;</span><br><span class="line"># at 1431</span><br><span class="line">#170920 20:50:29 server id 1  end_log_pos 1509 CRC32 0x2fa8bd6c 	Query	thread_id&#x3D;4	exec_time&#x3D;0	error_code&#x3D;0</span><br><span class="line">SET TIMESTAMP&#x3D;1505911829&#x2F;*!*&#x2F;;</span><br><span class="line">BEGIN</span><br><span class="line">&#x2F;*!*&#x2F;;</span><br><span class="line"># at 1509</span><br><span class="line">#170920 20:50:29 server id 1  end_log_pos 1622 CRC32 0x77ce6f3b 	Query	thread_id&#x3D;4	exec_time&#x3D;0	error_code&#x3D;0</span><br><span class="line">SET TIMESTAMP&#x3D;1505911829&#x2F;*!*&#x2F;;</span><br><span class="line">insert into test2 select * from t1.test1</span><br><span class="line">&#x2F;*!*&#x2F;;</span><br><span class="line"># at 1622</span><br><span class="line">#170920 20:50:29 server id 1  end_log_pos 1653 CRC32 0x41b7a45b 	Xid &#x3D; 29</span><br><span class="line">COMMIT&#x2F;*!*&#x2F;;</span><br><span class="line">SET @@SESSION.GTID_NEXT&#x3D; &#39;AUTOMATIC&#39; &#x2F;* added by mysqlbinlog *&#x2F; &#x2F;*!*&#x2F;;</span><br><span class="line">DELIMITER ;</span><br><span class="line"># End of log file</span><br><span class="line">&#x2F;*!50003 SET COMPLETION_TYPE&#x3D;@OLD_COMPLETION_TYPE*&#x2F;;</span><br><span class="line">&#x2F;*!50530 SET @@SESSION.PSEUDO_SLAVE_MODE&#x3D;0*&#x2F;;</span><br></pre></td></tr></table></figure>
<h4 id="加-d-选项，将只显示-t2-数据库的操作日志"><a href="#加-d-选项，将只显示-t2-数据库的操作日志" class="headerlink" title="加 -d 选项，将只显示 t2 数据库的操作日志"></a>加 -d 选项，将只显示 t2 数据库的操作日志</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">zj@bogon:&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin$ sudo .&#x2F;mysqlbinlog --no-defaults &#x2F;data&#x2F;mysql&#x2F;mysql-bin.000001 -d t2</span><br><span class="line">&#x2F;*!50530 SET @@SESSION.PSEUDO_SLAVE_MODE&#x3D;1*&#x2F;;</span><br><span class="line">&#x2F;*!50003 SET @OLD_COMPLETION_TYPE&#x3D;@@COMPLETION_TYPE,COMPLETION_TYPE&#x3D;0*&#x2F;;</span><br><span class="line"></span><br><span class="line">......</span><br><span class="line"></span><br><span class="line">SET TIMESTAMP&#x3D;1505911829&#x2F;*!*&#x2F;;</span><br><span class="line">insert into test2 select * from t1.test1</span><br><span class="line">&#x2F;*!*&#x2F;;</span><br><span class="line"># at 1622</span><br><span class="line">#170920 20:50:29 server id 1  end_log_pos 1653 CRC32 0x41b7a45b 	Xid &#x3D; 29</span><br><span class="line">COMMIT&#x2F;*!*&#x2F;;</span><br><span class="line">SET @@SESSION.GTID_NEXT&#x3D; &#39;AUTOMATIC&#39; &#x2F;* added by mysqlbinlog *&#x2F; &#x2F;*!*&#x2F;;</span><br><span class="line">DELIMITER ;</span><br><span class="line"># End of log file</span><br><span class="line">&#x2F;*!50003 SET COMPLETION_TYPE&#x3D;@OLD_COMPLETION_TYPE*&#x2F;;</span><br><span class="line">&#x2F;*!50530 SET @@SESSION.PSEUDO_SLAVE_MODE&#x3D;0*&#x2F;;</span><br></pre></td></tr></table></figure>
<h4 id="加-o-选项-忽略掉前-20-行命令"><a href="#加-o-选项-忽略掉前-20-行命令" class="headerlink" title="加 -o 选项, 忽略掉前 20 行命令"></a>加 -o 选项, 忽略掉前 20 行命令</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">zj@bogon:&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin$ sudo .&#x2F;mysqlbinlog --no-defaults &#x2F;data&#x2F;mysql&#x2F;mysql-bin.000001 -o 20</span><br><span class="line">&#x2F;*!50530 SET @@SESSION.PSEUDO_SLAVE_MODE&#x3D;1*&#x2F;;</span><br><span class="line">&#x2F;*!50003 SET @OLD_COMPLETION_TYPE&#x3D;@@COMPLETION_TYPE,COMPLETION_TYPE&#x3D;0*&#x2F;;</span><br><span class="line">DELIMITER &#x2F;*!*&#x2F;;</span><br><span class="line"># at 4</span><br><span class="line">#170920 20:44:49 server id 1  end_log_pos 123 CRC32 0x42fd5a4d 	Start: binlog v 4, server v 5.7.18-log created 170920 20:44:49 at startup</span><br><span class="line"># Warning: this binlog is either in use or was not closed properly.</span><br><span class="line">ROLLBACK&#x2F;*!*&#x2F;;</span><br><span class="line">BINLOG &#39;</span><br><span class="line">wWLCWQ8BAAAAdwAAAHsAAAABAAQANS43LjE4LWxvZwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA</span><br><span class="line">AAAAAAAAAAAAAAAAAADBYsJZEzgNAAgAEgAEBAQEEgAAXwAEGggAAAAICAgCAAAACgoKKioAEjQA</span><br><span class="line">AU1a&#x2F;UI&#x3D;</span><br><span class="line">&#39;&#x2F;*!*&#x2F;;</span><br><span class="line"># at 1509</span><br><span class="line">#170920 20:50:29 server id 1  end_log_pos 1622 CRC32 0x77ce6f3b 	Query	thread_id&#x3D;4	exec_time&#x3D;0	error_code&#x3D;0</span><br><span class="line">use &#96;t2&#96;&#x2F;*!*&#x2F;;</span><br><span class="line">SET TIMESTAMP&#x3D;1505911829&#x2F;*!*&#x2F;;</span><br><span class="line">SET @@session.pseudo_thread_id&#x3D;4&#x2F;*!*&#x2F;;</span><br><span class="line">SET @@session.foreign_key_checks&#x3D;1, @@session.sql_auto_is_null&#x3D;0, @@session.unique_checks&#x3D;1, @@session.autocommit&#x3D;1&#x2F;*!*&#x2F;;</span><br><span class="line">SET @@session.sql_mode&#x3D;1436549152&#x2F;*!*&#x2F;;</span><br><span class="line">SET @@session.auto_increment_increment&#x3D;1, @@session.auto_increment_offset&#x3D;1&#x2F;*!*&#x2F;;</span><br><span class="line">&#x2F;*!\C utf8mb4 *&#x2F;&#x2F;*!*&#x2F;;</span><br><span class="line">SET @@session.character_set_client&#x3D;45,@@session.collation_connection&#x3D;45,@@session.collation_server&#x3D;45&#x2F;*!*&#x2F;;</span><br><span class="line">SET @@session.lc_time_names&#x3D;0&#x2F;*!*&#x2F;;</span><br><span class="line">SET @@session.collation_database&#x3D;DEFAULT&#x2F;*!*&#x2F;;</span><br><span class="line">insert into test2 select * from t1.test1</span><br><span class="line">&#x2F;*!*&#x2F;;</span><br><span class="line"># at 1622</span><br><span class="line">#170920 20:50:29 server id 1  end_log_pos 1653 CRC32 0x41b7a45b 	Xid &#x3D; 29</span><br><span class="line">COMMIT&#x2F;*!*&#x2F;;</span><br><span class="line">SET @@SESSION.GTID_NEXT&#x3D; &#39;AUTOMATIC&#39; &#x2F;* added by mysqlbinlog *&#x2F; &#x2F;*!*&#x2F;;</span><br><span class="line">DELIMITER ;</span><br><span class="line"># End of log file</span><br><span class="line">&#x2F;*!50003 SET COMPLETION_TYPE&#x3D;@OLD_COMPLETION_TYPE*&#x2F;;</span><br><span class="line">&#x2F;*!50530 SET @@SESSION.PSEUDO_SLAVE_MODE&#x3D;0*&#x2F;;</span><br></pre></td></tr></table></figure>

<h4 id="加-r-选项，将上面的结果输出到文件-resultfile-中"><a href="#加-r-选项，将上面的结果输出到文件-resultfile-中" class="headerlink" title="加 -r 选项，将上面的结果输出到文件 resultfile 中"></a>加 -r 选项，将上面的结果输出到文件 resultfile 中</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">zj@bogon:&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin$ sudo .&#x2F;mysqlbinlog --no-defaults &#x2F;data&#x2F;mysql&#x2F;mysql-bin.000001 -o 20 -r .&#x2F;logfile</span><br><span class="line">zj@bogon:&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin$ sudo more .&#x2F;logfile</span><br><span class="line">&#x2F;*!50530 SET @@SESSION.PSEUDO_SLAVE_MODE&#x3D;1*&#x2F;;</span><br><span class="line">&#x2F;*!50003 SET @OLD_COMPLETION_TYPE&#x3D;@@COMPLETION_TYPE,COMPLETION_TYPE&#x3D;0*&#x2F;;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h4 id="结果显示的内容较多，显得比较乱，加-s-选项将上面的内容进行简单显示"><a href="#结果显示的内容较多，显得比较乱，加-s-选项将上面的内容进行简单显示" class="headerlink" title="结果显示的内容较多，显得比较乱，加 -s 选项将上面的内容进行简单显示"></a>结果显示的内容较多，显得比较乱，加 -s 选项将上面的内容进行简单显示</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">zj@bogon:&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin$ sudo .&#x2F;mysqlbinlog --no-defaults &#x2F;data&#x2F;mysql&#x2F;mysql-bin.000001 -o 20 -s</span><br><span class="line">&#x2F;*!50530 SET @@SESSION.PSEUDO_SLAVE_MODE&#x3D;1*&#x2F;;</span><br><span class="line">&#x2F;*!50003 SET @OLD_COMPLETION_TYPE&#x3D;@@COMPLETION_TYPE,COMPLETION_TYPE&#x3D;0*&#x2F;;</span><br><span class="line">DELIMITER &#x2F;*!*&#x2F;;</span><br><span class="line">ROLLBACK&#x2F;*!*&#x2F;;</span><br><span class="line">use &#96;t2&#96;&#x2F;*!*&#x2F;;</span><br><span class="line">SET TIMESTAMP&#x3D;1505911829&#x2F;*!*&#x2F;;</span><br><span class="line">SET @@session.pseudo_thread_id&#x3D;999999999&#x2F;*!*&#x2F;;</span><br><span class="line">SET @@session.foreign_key_checks&#x3D;1, @@session.sql_auto_is_null&#x3D;0, @@session.unique_checks&#x3D;1, @@session.autocommit&#x3D;1&#x2F;*!*&#x2F;;</span><br><span class="line">SET @@session.sql_mode&#x3D;1436549152&#x2F;*!*&#x2F;;</span><br><span class="line">SET @@session.auto_increment_increment&#x3D;1, @@session.auto_increment_offset&#x3D;1&#x2F;*!*&#x2F;;</span><br><span class="line">&#x2F;*!\C utf8mb4 *&#x2F;&#x2F;*!*&#x2F;;</span><br><span class="line">SET @@session.character_set_client&#x3D;45,@@session.collation_connection&#x3D;45,@@session.collation_server&#x3D;45&#x2F;*!*&#x2F;;</span><br><span class="line">SET @@session.lc_time_names&#x3D;0&#x2F;*!*&#x2F;;</span><br><span class="line">SET @@session.collation_database&#x3D;DEFAULT&#x2F;*!*&#x2F;;</span><br><span class="line">insert into test2 select * from t1.test1</span><br><span class="line">&#x2F;*!*&#x2F;;</span><br><span class="line">COMMIT&#x2F;*!*&#x2F;;</span><br><span class="line">SET @@SESSION.GTID_NEXT&#x3D; &#39;AUTOMATIC&#39; &#x2F;* added by mysqlbinlog *&#x2F; &#x2F;*!*&#x2F;;</span><br><span class="line">DELIMITER ;</span><br><span class="line"># End of log file</span><br><span class="line">&#x2F;*!50003 SET COMPLETION_TYPE&#x3D;@OLD_COMPLETION_TYPE*&#x2F;;</span><br><span class="line">&#x2F;*!50530 SET @@SESSION.PSEUDO_SLAVE_MODE&#x3D;0*&#x2F;;</span><br></pre></td></tr></table></figure>
<h4 id="加-“–start-datetime-–stop-datetime”-选项显示-5-00-00-5-01-00-之间的日志"><a href="#加-“–start-datetime-–stop-datetime”-选项显示-5-00-00-5-01-00-之间的日志" class="headerlink" title="加 “–start-datetime –stop-datetime” 选项显示 5:00:00 ~ 5:01:00 之间的日志"></a>加 “–start-datetime –stop-datetime” 选项显示 5:00:00 ~ 5:01:00 之间的日志</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zj@bogon:&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin$ sudo .&#x2F;mysqlbinlog --no-defaults &#x2F;data&#x2F;mysql&#x2F;mysql-bin.000001  --start-datetime&#x3D;&quot;2017&#x2F;09&#x2F;30 05:00:00&quot; --stop-datetime&#x3D;&#39;2017&#x2F;09&#x2F;30 05:01:00&#39;</span><br></pre></td></tr></table></figure>
<p>开始日期和结束日期可以只写一个。如果只写开始日期，表示范围开始日期到日志结束；如果只写结束日期，表示日志开始到指定的结束日期。  </p>
<h4 id="–start-position-和-–stop-position-与日期范围类似，不过可以更精确的表示范围。"><a href="#–start-position-和-–stop-position-与日期范围类似，不过可以更精确的表示范围。" class="headerlink" title="–start-position=# 和 –stop-position=#, 与日期范围类似，不过可以更精确的表示范围。"></a>–start-position=# 和 –stop-position=#, 与日期范围类似，不过可以更精确的表示范围。</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo .&#x2F;mysqlbinlog --no-defaults &#x2F;data&#x2F;mysql&#x2F;mysql-bin.000001  --start-position&#x3D;4 --stop-datetime&#x3D;100</span><br></pre></td></tr></table></figure>

<h3 id="mysqlcheck-myisam-表维护工具"><a href="#mysqlcheck-myisam-表维护工具" class="headerlink" title="mysqlcheck (myisam 表维护工具)"></a>mysqlcheck (myisam 表维护工具)</h3><p>mysqlcheck 工具可以检查和修复 myisam 表，还可以优化和分析表。实际上，它集成了 mysql 工具中的 check、repair、analyze、optimize  </p>
<p>有 3 种方式可以来调用 mysqlcheck：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">shell&gt; mysqlcheck [options] db_name [tables]</span><br><span class="line">shell&gt; mysqlcheck [options] --database DB1 [DB2 DB3...]</span><br><span class="line">shell&gt; mysqlcheck [options] --all-databse</span><br></pre></td></tr></table></figure>
<p>option 中有以下常用选项：  </p>
<ul>
<li>-c, –check (检查表)</li>
<li>-r, –repair (修复表)</li>
<li>-a, –analyze (分析表)</li>
<li>-o, –optimize (优化表)</li>
</ul>
<p>其中，默认选项是 -c (检查表)<br>示例：  </p>
<h4 id="检查表"><a href="#检查表" class="headerlink" title="检查表"></a>检查表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">zj@bogon:&#x2F;data&#x2F;mysql$ mysqlcheck -c t2</span><br><span class="line">t2.test1                                           OK</span><br><span class="line">t2.test2                                           OK</span><br></pre></td></tr></table></figure>
<h4 id="修复表"><a href="#修复表" class="headerlink" title="修复表"></a>修复表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">zj@bogon:&#x2F;data&#x2F;mysql$ mysqlcheck -r t2</span><br><span class="line">t2.test1</span><br><span class="line">note     : The storage engine for the table doesn&#39;t support repair</span><br><span class="line">t2.test2                                           OK</span><br></pre></td></tr></table></figure>
<p>test1 表的存储引擎为 innodb，不支持 repair。  </p>
<h4 id="分析表"><a href="#分析表" class="headerlink" title="分析表"></a>分析表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">zj@bogon:&#x2F;data&#x2F;mysql$ mysqlcheck -a t2</span><br><span class="line">t2.test1                                           OK</span><br><span class="line">t2.test2                                           OK</span><br></pre></td></tr></table></figure>

<h4 id="优化表"><a href="#优化表" class="headerlink" title="优化表"></a>优化表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">zj@bogon:&#x2F;data&#x2F;mysql$ mysqlcheck -o t2</span><br><span class="line">t2.test1</span><br><span class="line">note     : Table does not support optimize, doing recreate + analyze instead</span><br><span class="line">status   : OK</span><br><span class="line">t2.test2</span><br></pre></td></tr></table></figure>

<h3 id="mysqldump-（数据导出工具）"><a href="#mysqldump-（数据导出工具）" class="headerlink" title="mysqldump （数据导出工具）"></a>mysqldump （数据导出工具）</h3><p>mysqldump 客户端工具用来备份数据库或在不同数据库之间进行数据迁移。备份内容包含创建表或装载表的 sql 语句。  </p>
<p>有三中方式来调用 mysqldump：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysqldump [OPTIONS] database [tables]       &#x2F;&#x2F; 备份单个数据库或者库中部分数据表</span><br><span class="line">mysqldump [OPTIONS] --databases [OPTIONS] DB1 [DB2 DB3...]      &#x2F;&#x2F;备份指定的一个或者多个数据库</span><br><span class="line">mysqldump [OPTIONS] --all-databases [OPTIONS]       &#x2F;&#x2F; 备份所有数据库</span><br></pre></td></tr></table></figure>
<h4 id="连接选项-1"><a href="#连接选项-1" class="headerlink" title="连接选项"></a>连接选项</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-u, --user&#x3D;name             &#x2F;&#x2F; 指定用户名</span><br><span class="line">-p, --password[&#x3D;name]       &#x2F;&#x2F; 指定密码  </span><br><span class="line">-h, --host&#x3D;name             &#x2F;&#x2F; 指定服务器 IP 或者域名</span><br><span class="line">-p, --port&#x3D;#                &#x2F;&#x2F; 指定连接端口</span><br></pre></td></tr></table></figure>
<p>示例：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shell&gt; mysqldump -h192.18.10.10 -p3306 -uroot -p test &gt; test.sql</span><br></pre></td></tr></table></figure>
<h4 id="输出内容选项"><a href="#输出内容选项" class="headerlink" title="输出内容选项"></a>输出内容选项</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">--add-drop-database     每个数据库创建语句前加上 drop database 语句</span><br><span class="line">--add-drop-table        在每个表创建语句前加上 drop table 语句</span><br></pre></td></tr></table></figure>
<p>在默认情况下，这两个参数都自动加上。  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-n, --no-create-db      不包含数据库的创建语句  </span><br><span class="line">-t, --no-create-info    不包含数据表的创建语句</span><br><span class="line">-d, --no-data           不包含数据</span><br></pre></td></tr></table></figure>

<h4 id="输出格式选项"><a href="#输出格式选项" class="headerlink" title="输出格式选项"></a>输出格式选项</h4><ul>
<li>–compact 选项使得输出结果简洁，不包括默认选项中的各种注释。  </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">root@bogon:&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin# .&#x2F;mysqldump --compact t2 emp &gt; emp.sql</span><br><span class="line">root@bogon:&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin# more emp.sql</span><br><span class="line">&#x2F;*!40101 SET @saved_cs_client     &#x3D; @@character_set_client *&#x2F;;</span><br><span class="line">&#x2F;*!40101 SET character_set_client &#x3D; utf8 *&#x2F;;</span><br><span class="line">CREATE TABLE &#96;emp&#96; (</span><br><span class="line">  &#96;id&#96; int(11) NOT NULL DEFAULT &#39;0&#39;,</span><br><span class="line">  &#96;name&#96; varchar(10) DEFAULT NULL,</span><br><span class="line">  &#96;context&#96; text,</span><br><span class="line">  PRIMARY KEY (&#96;id&#96;)</span><br><span class="line">) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8mb4;</span><br><span class="line">&#x2F;*!40101 SET character_set_client &#x3D; @saved_cs_client *&#x2F;;</span><br><span class="line">INSERT INTO &#96;emp&#96; VALUES (1,&#39;a&#39;,&#39;a&#39;),(2,&#39;b&#39;,&#39;b&#39;);</span><br></pre></td></tr></table></figure>
<ul>
<li>-c 或者 –complete-insert 选项使得输出文件中的 insert 语句包括字段名称，默认是不包括字段名称的。  </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">root@bogon:&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin# .&#x2F;mysqldump -c --compact t2 emp &gt; emp.sql</span><br><span class="line">root@bogon:&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin# more emp.sql</span><br><span class="line">&#x2F;*!40101 SET @saved_cs_client     &#x3D; @@character_set_client *&#x2F;;</span><br><span class="line">&#x2F;*!40101 SET character_set_client &#x3D; utf8 *&#x2F;;</span><br><span class="line">CREATE TABLE &#96;emp&#96; (</span><br><span class="line">  &#96;id&#96; int(11) NOT NULL DEFAULT &#39;0&#39;,</span><br><span class="line">  &#96;name&#96; varchar(10) DEFAULT NULL,</span><br><span class="line">  &#96;context&#96; text,</span><br><span class="line">  PRIMARY KEY (&#96;id&#96;)</span><br><span class="line">) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8mb4;</span><br><span class="line">&#x2F;*!40101 SET character_set_client &#x3D; @saved_cs_client *&#x2F;;</span><br><span class="line">INSERT INTO &#96;emp&#96; (&#96;id&#96;, &#96;name&#96;, &#96;context&#96;) VALUES (1,&#39;a&#39;,&#39;a&#39;),(2,&#39;b&#39;,&#39;b&#39;);</span><br></pre></td></tr></table></figure>

<ul>
<li>-T 选项将指定数据表中的数据备份为单纯的数据文本和建表 sql 两个文件，经常和下面几个选项一起配合使用，将数据导出为指定格式显示。  </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-T, --tab&#x3D;name                  备份数据和建表语句</span><br><span class="line">--fileds-terminated-by&#x3D;name     域分隔符</span><br><span class="line">--fileds-enclosed-by&#x3D;name       域引用符</span><br><span class="line">--fileds-optionally-enclosed-by&#x3D;name    域可选引用符</span><br><span class="line">--fileds-escaped-by&#x3D;name        转义字符</span><br></pre></td></tr></table></figure>
<p>示例：将 t2 数据库中的表 emp 导出为单纯的数据文本和建表 sql 两个文件，并存放在当前路径下的 bak 目录下。  </p>
<h4 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h4><h5 id="创建备份目录"><a href="#创建备份目录" class="headerlink" title="创建备份目录"></a>创建备份目录</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@bogon:&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin#  mkdir bak</span><br></pre></td></tr></table></figure>

<h5 id="将-t2-数据库下的表-emp-备份到-bak-目录下"><a href="#将-t2-数据库下的表-emp-备份到-bak-目录下" class="headerlink" title="将 t2 数据库下的表 emp 备份到 bak 目录下"></a>将 t2 数据库下的表 emp 备份到 bak 目录下</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@bogon:&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin# .&#x2F;mysqldump t2 emp -T .&#x2F;bak</span><br></pre></td></tr></table></figure>
<h5 id="查看-bak-目录，发现两个文件"><a href="#查看-bak-目录，发现两个文件" class="headerlink" title="查看 bak 目录，发现两个文件"></a>查看 bak 目录，发现两个文件</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@bogon:&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin# ls .&#x2F;bak</span><br><span class="line">emp.sql  emp.txt</span><br></pre></td></tr></table></figure>
<h5 id="查看两个文件的内容，-sql-结尾的是建表及插入数据的sql，-txt-结尾的是表数据"><a href="#查看两个文件的内容，-sql-结尾的是建表及插入数据的sql，-txt-结尾的是表数据" class="headerlink" title="查看两个文件的内容， .sql 结尾的是建表及插入数据的sql，.txt 结尾的是表数据"></a>查看两个文件的内容， .sql 结尾的是建表及插入数据的sql，.txt 结尾的是表数据</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">root@bogon:&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin# more .&#x2F;bak&#x2F;emp.sql</span><br><span class="line">-- MySQL dump 10.13  Distrib 5.7.18, for Linux (x86_64)</span><br><span class="line">--</span><br><span class="line">-- Host: localhost    Database: t2</span><br><span class="line">-- ------------------------------------------------------</span><br><span class="line">-- Server version	5.7.18-log</span><br><span class="line"></span><br><span class="line">&#x2F;*!40101 SET @OLD_CHARACTER_SET_CLIENT&#x3D;@@CHARACTER_SET_CLIENT *&#x2F;;</span><br><span class="line">&#x2F;*!40101 SET @OLD_CHARACTER_SET_RESULTS&#x3D;@@CHARACTER_SET_RESULTS *&#x2F;;</span><br><span class="line">&#x2F;*!40101 SET @OLD_COLLATION_CONNECTION&#x3D;@@COLLATION_CONNECTION *&#x2F;;</span><br><span class="line">&#x2F;*!40101 SET NAMES utf8mb4 *&#x2F;;</span><br><span class="line">&#x2F;*!40103 SET @OLD_TIME_ZONE&#x3D;@@TIME_ZONE *&#x2F;;</span><br><span class="line">&#x2F;*!40103 SET TIME_ZONE&#x3D;&#39;+00:00&#39; *&#x2F;;</span><br><span class="line">&#x2F;*!40101 SET @OLD_SQL_MODE&#x3D;@@SQL_MODE, SQL_MODE&#x3D;&#39;&#39; *&#x2F;;</span><br><span class="line">&#x2F;*!40111 SET @OLD_SQL_NOTES&#x3D;@@SQL_NOTES, SQL_NOTES&#x3D;0 *&#x2F;;</span><br><span class="line"></span><br><span class="line">--</span><br><span class="line">-- Table structure for table &#96;emp&#96;</span><br><span class="line">--</span><br><span class="line"></span><br><span class="line">DROP TABLE IF EXISTS &#96;emp&#96;;</span><br><span class="line">&#x2F;*!40101 SET @saved_cs_client     &#x3D; @@character_set_client *&#x2F;;</span><br><span class="line">&#x2F;*!40101 SET character_set_client &#x3D; utf8 *&#x2F;;</span><br><span class="line">CREATE TABLE &#96;emp&#96; (</span><br><span class="line">  &#96;id&#96; int(11) NOT NULL DEFAULT &#39;0&#39;,</span><br><span class="line">  &#96;name&#96; varchar(10) DEFAULT NULL,</span><br><span class="line">  &#96;context&#96; text,</span><br><span class="line">  PRIMARY KEY (&#96;id&#96;)</span><br><span class="line">) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8mb4;</span><br><span class="line">&#x2F;*!40101 SET character_set_client &#x3D; @saved_cs_client *&#x2F;;</span><br><span class="line"></span><br><span class="line">&#x2F;*!40103 SET TIME_ZONE&#x3D;@OLD_TIME_ZONE *&#x2F;;</span><br><span class="line"></span><br><span class="line">&#x2F;*!40101 SET SQL_MODE&#x3D;@OLD_SQL_MODE *&#x2F;;</span><br><span class="line">&#x2F;*!40101 SET CHARACTER_SET_CLIENT&#x3D;@OLD_CHARACTER_SET_CLIENT *&#x2F;;</span><br><span class="line">&#x2F;*!40101 SET CHARACTER_SET_RESULTS&#x3D;@OLD_CHARACTER_SET_RESULTS *&#x2F;;</span><br><span class="line">&#x2F;*!40101 SET COLLATION_CONNECTION&#x3D;@OLD_COLLATION_CONNECTION *&#x2F;;</span><br><span class="line">&#x2F;*!40111 SET SQL_NOTES&#x3D;@OLD_SQL_NOTES *&#x2F;;</span><br><span class="line"></span><br><span class="line">-- Dump completed on 2017-09-21 12:07:38</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@bogon:&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin# more .&#x2F;bak&#x2F;emp.txt </span><br><span class="line">1	a	a</span><br><span class="line">2	b	b</span><br></pre></td></tr></table></figure>

<h4 id="字符集选项"><a href="#字符集选项" class="headerlink" title="字符集选项"></a>字符集选项</h4><p>mysqldump 导出的数据的字符集使用的是 mysqld 启动时的默认字符集，如果表的字符集用的不是默认字符集，导出的数据就有可能出现乱码。所以在导出时，应该先确定表的字符集，在导出时指定该字符集即可。  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shell&gt; mysqldump -uroot --compact --default-character-set&#x3D;utf8 t2 emp &gt; emp.sql</span><br></pre></td></tr></table></figure>
<h4 id="其他常用选项"><a href="#其他常用选项" class="headerlink" title="其他常用选项"></a>其他常用选项</h4><ul>
<li>-F –flush-logs （备份前刷新日志）  </li>
</ul>
<p>加上此选项后，备份前将关闭就日志，生成新日志。使得进行恢复的时候直接从新日志开始进行重做，大大方便了恢复过程。  </p>
<ul>
<li>-l –lock-tables （给所有表加读锁）  </li>
</ul>
<p>可以在备份期间使用，使得数据无法被更新，从而使备份的数据保持一致性，可以配合 -F 选项一起使用。  </p>
<h3 id="mysqlimport-（数据导入工具）"><a href="#mysqlimport-（数据导入工具）" class="headerlink" title="mysqlimport （数据导入工具）"></a>mysqlimport （数据导入工具）</h3><p>mysqlimport 是客户端数据导入工具，用来导入 mysqldump 加 -T 选项后导出的文本文件。  </p>
<p>基本用法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shell&gt; mysqlimport [options] db_name textfile1</span><br></pre></td></tr></table></figure>

<h3 id="mysqlshow-数据库对象查看工具"><a href="#mysqlshow-数据库对象查看工具" class="headerlink" title="mysqlshow (数据库对象查看工具)"></a>mysqlshow (数据库对象查看工具)</h3><p>mysqlshow 客户端对象查找工具，用来很快的查找存在哪些数据库，数据库中的表、表中的列或索引，和 mysql 客户端工具很类似，不过有些特性是 mysql 客户端工具所不具备的。  </p>
<p>使用方法：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shell&gt; mysqlshow [option] [db_name [tbl_name [col_name]]]</span><br></pre></td></tr></table></figure>

<p>如果不加任何选项，默认情况下会显示所有数据库。  </p>
<p>常用选项:  </p>
<h4 id="–count-显示数据库和表的统计信息"><a href="#–count-显示数据库和表的统计信息" class="headerlink" title="–count (显示数据库和表的统计信息)"></a>–count (显示数据库和表的统计信息)</h4><p>如果不指定数据库，则显示每个数据库的名称、表数量、记录数量；<br>如果指定数据库，则显示指定数据库的每个表名、字段数量，记录数量；<br>如果指定具体数据库中的具体表，则显示表的字段信息。  </p>
<h4 id="k-或者-–keys-显示指定表中的所有索引"><a href="#k-或者-–keys-显示指定表中的所有索引" class="headerlink" title="-k 或者 –keys (显示指定表中的所有索引)"></a>-k 或者 –keys (显示指定表中的所有索引)</h4><p>此选项显示了两部分内容，一部分是指定表的表结构，另一部分中是指定表的当前索引信息  </p>
<h4 id="i-或者-–status-显示表的一些状态信息"><a href="#i-或者-–status-显示表的一些状态信息" class="headerlink" title="-i 或者 –status (显示表的一些状态信息)"></a>-i 或者 –status (显示表的一些状态信息)</h4><h3 id="perror-（错误代码查看工具）"><a href="#perror-（错误代码查看工具）" class="headerlink" title="perror （错误代码查看工具）"></a>perror （错误代码查看工具）</h3><p>在 MySQL 的使用过程中，可能会出现各种各样的 error。这些 error 有些是由于操作系统引起的，比如文件或者目录不存在；有些则是由于存储引擎使用不当引起的。这些 error 一般都有一个代码，类似于 “error：#” 或者 “Errcode：#”，“#” 代表具体的错误号。perror 的作用就是解释这些错误代码的详细含义：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">perror [options] [errorcode [errorcode]]</span><br><span class="line"></span><br><span class="line">zj@bogon:&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin$ perror 30</span><br><span class="line">OS error code  30:  Read-only file system</span><br><span class="line">zj@bogon:&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin$ perror 60</span><br><span class="line">OS error code  60:  Device not a stream</span><br><span class="line">zj@bogon:&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin$ perror 30  60</span><br><span class="line">OS error code  30:  Read-only file system</span><br><span class="line">OS error code  60:  Device not a stream</span><br></pre></td></tr></table></figure>

      
       
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">赏</a>
</p>


<div class="article_copyright">
    <p><span class="copy-title">文章标题:</span>MySQL 中的常用工具</p>
    <p><span class="copy-title">文章字数:</span><span class="post-count">4.6k</span></p>
    <p><span class="copy-title">本文作者:</span><a  title="Waterandair">Waterandair</a></p>
    <p><span class="copy-title">发布时间:</span>2018-07-08, 09:24:06</p>
    <p><span class="copy-title">最后更新:</span>2019-12-28, 14:03:59</p>
    <span class="copy-title">原始链接:</span><a class="post-url" href="/2018-07-08-mysql-commonly-used-tools.html" title="MySQL 中的常用工具">https://waterandair.github.io/2018-07-08-mysql-commonly-used-tools.html</a>
    <p>
        <span class="copy-title">版权声明:</span><i class="fa fa-creative-commons"></i> <a rel="license noopener" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="CC BY-NC-SA 4.0 International" target = "_blank">"署名-非商用-相同方式共享 4.0"</a> 转载请保留原文链接及作者。
    </p>
</div>





    




    </div>
    <div class="copyright">
        <p class="footer-entry">©2017 Waterandair</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full"><span class="min "></span></button>
<button class="post-toc-menu"><span class="post-toc-menu-icons"></span></button>
<div class="post-toc"><span class="post-toc-title">目录</span>
    <div class="post-toc-content">

    </div>
</div>
<a class="" id="rocket" ></a>

    </div>
</div>
<div class="acParent"></div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>喜欢就点赞,疼爱就打赏</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="扫码支持">
            <img src="/img/weixin.jpg" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">支付宝</label></span><span><label><input type="radio" name="pay" value="weixin">微信</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.0.1" ></script>

<script src="/js/script.js?v=1.0.1" ></script>
<script>
    var img_resize = 'default';
    /*作者、标签的自动补全*/
    $(function () {
        $('.search').AutoComplete({
            'data': ['#时间复杂度','#大O算法','#Ansible','#大数据','#Redis','#Nosql','#Docker','#Go','#后端开发','#Linux','#Hadoop','#Hive','#环境搭建','#Java','#Kafka','#消息队列','#Zookeeper','#机器学习','#回归','#MySQL','#音乐','#Numpy','#Pandas','#Python','#Spark','#开发','#RPC','#性能调优','#原理','#Spark 原理','#工具','#分布式协作框架','#Linux 权限问题',],
            'itemHeight': 20,
            'width': 418
        }).AutoComplete('show');
    })
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $(".post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        
        $('pre code').each(function(){
            var lines = $(this).text().split('\n').length - 1, widther='';
            if (lines>99) {
                widther = 'widther'
            }
            var $numbering = $('<ul/>').addClass('pre-numbering ' + widther).attr("unselectable","on");
            $(this).addClass('has-numbering ' + widther)
                    .parent()
                    .append($numbering);
            for(var i=1;i<=lines;i++){
                $numbering.append($('<li/>').text(i));
            }
        });
        

        /*访问数量*/
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<style>
    pre{
        position: relative;
        margin-bottom: 24px;
        border-radius: 10px;
        border: 1px solid #e2dede;
        background: #FFF;
        overflow: hidden;
    }
    code.has-numbering{
        margin-left: 30px;
    }
    code.has-numbering.widther{
        margin-left: 35px;
    }
    .pre-numbering{
        margin: 0px;
        position: absolute;
        top: 0;
        left: 0;
        width: 20px;
        padding: 0.5em 3px 0.7em 5px;
        border-right: 1px solid #C3CCD0;
        text-align: right;
        color: #AAA;
        background-color: ;
    }
    .pre-numbering.widther {
        width: 35px;
    }
</style>

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
        .nav .hide-list.fullscreen {
            left: 492px
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    
    .post .pjax article .article-entry>ol, .post .pjax article .article-entry>ul, .post .pjax article>ol, .post .pjax article>ul{
        border: #e2dede solid 1px;
        border-radius: 10px;
        padding: 10px 32px 10px 56px;
    }
    .post .pjax article .article-entry li>ol, .post .pjax article .article-entry li>ul,.post .pjax article li>ol, .post .pjax article li>ul{
        padding-top: 5px;
        padding-bottom: 5px;
    }
    .post .pjax article .article-entry>ol>li, .post .pjax article .article-entry>ul>li,.post .pjax article>ol>li, .post .pjax article>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    .post .pjax article .article-entry li>ol>li, .post .pjax article .article-entry li>ul>li,.post .pjax article li>ol>li, .post .pjax article li>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    

    
    .post .pjax article :not(pre) > code {
        color: #24292e;
        font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
        background-color: rgba(27,31,35,.05);
        border-radius: 3px;
        font-size: 85%;
        margin: 0;
        padding: .2em .4em;
    }
    
</style>






<div class="mobile-menus-out" >

</div>
<div class="mobile-menus">
    
    
    
    <a class="dynamic-menu " target="_blank"  href="https://github.com/waterandair">github</a>
    
</div>


</html>
